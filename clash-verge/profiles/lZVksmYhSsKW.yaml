port: 7894
socks-port: 7891
redir-port: 7892
tproxy-port: 7893 # 本地Linux Tproxy代理端口
mixed-port: 7890

geodata-mode: true #【Meta专属】使用geoip.dat数据库(默认：false使用mmdb数据库)
geox-url:
  geoip: "https://cdn.jsdelivr.net/gh/Loyalsoldier/v2ray-rules-dat@release/geoip.dat"
  geosite: "https://cdn.jsdelivr.net/gh/Loyalsoldier/v2ray-rules-dat@release/geosite.dat"
  mmdb: "https://cdn.jsdelivr.net/gh/Loyalsoldier/geoip@release/Country.mmdb"

tcp-concurrent: true #【Meta专属】TCP连接并发，如果域名解析结果对应多个IP，并发所有IP，选择握手最快的IP进行连接
allow-lan: false # 允许局域网连接(false/true)
bind-address: "*" # 监听IP白名单（当allow-lan：true），只允许列表设备，'*'表示全部设备
mode: rule # clash工作模式（rule/global/direct,meta暂不支持script）
log-level: warning # 日志等级（info/warning/error/debug/silent）
ipv6: false # ip6开关，当为false时，停止解析hostanmes为ip6地址
global-client-fingerprint: random
external-controller: "0.0.0.0:9090" # 控制器监听地址
# external-ui: /etc/clash/ui             # http服务路径，可以放静态web网页。
#                                        # 如yacd的控制面板，可通过`http://{{external-controller}}/ui`直接使用
#                                        # 也可以直接使用别人搭建好了的，博主就是这样。
#                                        # 所以这里直接注释掉了

# interface-name: eth0                   # 出口网卡名称
# routing-mark: 6666                     # 流量标记(仅Linux)

profile: #缓存设置(文件位置./cache.db)
  store-selected: true #节点状态记忆（若不同配置有同代理名称,设置值共享）
  store-fake-ip: true #fake-ip缓存

sniffer:
  enable: true
  sniff:
    TLS:
      ports: [443, 8443]
    HTTP:
      ports: [80, 8080-8880]
      override-destination: true

dns:
  enable: true # DNS开关(false/true)
  listen: 0.0.0.0:7874 # DNS监听地址
  ipv6: false # IP6解析开关；如果为false，将返回ip6结果为空
  enhanced-mode: fake-ip # DNS模式(redir-host/fake-ip)
  fake-ip-range: 28.0.0.1/8
  nameserver: # 默认DNS服务器，支持udp/tcp/dot/doh/doq
    - tls://1.12.12.12:853
    - tls://223.5.5.5:853
    - https://1.12.12.12/dns-query
    - https://223.5.5.5/dns-query
  # Lookup domains via specific nameservers
  nameserver-policy:
    "rule-set:ZJU": [ 10.10.0.21,10.10.2.21 ]
  proxy-server-nameserver:
    - tls://1.12.12.12:853
    - tls://223.5.5.5:853
    - https://1.12.12.12/dns-query
  fallback: # 回落DNS服务器，支持udp/tcp/dot/doh/doq
    - "tls://1.1.1.1:853" #【Meta专属】""代表该DNS服务器通过名为"DNS"的proxy Group访问
    - "https://1.1.1.1/dns-query"
    - "tls://9.9.9.9:853"
    - "https://9.9.9.9/dns-query"
    - "tls://8.8.8.8:853"
    - "https://8.8.8.8/dns-query"
    - "tls://208.67.222.222:853"
    - "https://208.67.220.220/dns-query"
  fake-ip-filter:
    # 以下域名列表参考自 vernesong/OpenClash 项目，并由 Hackl0us 整理补充
    - "*.lan"
    - "*.localdomain"
    - "*.example"
    - "*.invalid"
    - "*.localhost"
    - "*.test"
    - "*.local"
    - "*.home.arpa"
    - "time.*.com"
    - "time.*.gov"
    - "time.*.edu.cn"
    - "time.*.apple.com"
    - "time1.*.com"
    - "time2.*.com"
    - "time3.*.com"
    - "time4.*.com"
    - "time5.*.com"
    - "time6.*.com"
    - "time7.*.com"
    - "ntp.*.com"
    - "ntp1.*.com"
    - "ntp2.*.com"
    - "ntp3.*.com"
    - "ntp4.*.com"
    - "ntp5.*.com"
    - "ntp6.*.com"
    - "ntp7.*.com"
    - "*.time.edu.cn"
    - "*.ntp.org.cn"
    - "+.pool.ntp.org"
    - "time1.cloud.tencent.com"
    - "music.163.com"
    - "*.music.163.com"
    - "*.126.net"
    - "musicapi.taihe.com"
    - "music.taihe.com"
    - "songsearch.kugou.com"
    - "trackercdn.kugou.com"
    - "*.kuwo.cn"
    - "api-jooxtt.sanook.com"
    - "api.joox.com"
    - "joox.com"
    - "y.qq.com"
    - "*.y.qq.com"
    - "streamoc.music.tc.qq.com"
    - "mobileoc.music.tc.qq.com"
    - "isure.stream.qqmusic.qq.com"
    - "dl.stream.qqmusic.qq.com"
    - "aqqmusic.tc.qq.com"
    - "amobile.music.tc.qq.com"
    - "*.xiami.com"
    - "*.music.migu.cn"
    - "music.migu.cn"
    - "*.msftconnecttest.com"
    - "*.msftncsi.com"
    - "msftconnecttest.com"
    - "msftncsi.com"
    - "localhost.ptlogin2.qq.com"
    - "localhost.sec.qq.com"
    - "+.srv.nintendo.net"
    - "+.stun.playstation.net"
    - "xbox.*.microsoft.com"
    - "xnotify.xboxlive.com"
    - "+.battlenet.com.cn"
    - "+.wotgame.cn"
    - "+.wggames.cn"
    - "+.wowsgame.cn"
    - "+.wargaming.net"
    - "proxy.golang.org"
    - "stun.*.*"
    - "stun.*.*.*"
    - "+.stun.*.*"
    - "+.stun.*.*.*"
    - "+.stun.*.*.*.*"
    - "heartbeat.belkin.com"
    - "*.linksys.com"
    - "*.linksyssmartwifi.com"
    - "*.router.asus.com"
    - "mesu.apple.com"
    - "swscan.apple.com"
    - "swquery.apple.com"
    - "swdownload.apple.com"
    - "swcdn.apple.com"
    - "swdist.apple.com"
    - "lens.l.google.com"
    - "stun.l.google.com"
    - "+.nflxvideo.net"
    - "*.square-enix.com"
    - "*.finalfantasyxiv.com"
    - "*.ffxiv.com"
    - "*.mcdn.bilivideo.cn"
  fallback-filter: # 回落DNS服务器过滤
    geoip: true # 为真时，不匹配为geoip规则的使用fallback返回结果
    geoip-code: CN # geoip匹配区域设定
    ipcidr: # 列表中的ip使用fallback返回解析结果
      - 0.0.0.0/8
      # - 10.0.0.0/8
      - 100.64.0.0/10
      - 127.0.0.0/8
      - 169.254.0.0/16
      - 172.16.0.0/12
      - 192.0.0.0/24
      - 192.0.2.0/24
      - 192.88.99.0/24
      - 192.168.0.0/16
      - 198.18.0.0/15
      - 198.51.100.0/24
      - 203.0.113.0/24
      - 224.0.0.0/4
      - 233.252.0.0/24
      - 240.0.0.0/4
      - 255.255.255.255/32
      - 74.125.127.102/32
      - 74.125.155.102/32
      - 74.125.39.102/32
      - 74.125.39.113/32
      - 209.85.229.138/32
      - 128.121.126.139/32
      - 159.106.121.75/32
      - 169.132.13.103/32
      - 192.67.198.6/32
      - 202.106.1.2/32
      - 202.181.7.85/32
      - 203.161.230.171/32
      - 203.98.7.65/32
      - 207.12.88.98/32
      - 208.56.31.43/32
      - 209.145.54.50/32
      - 209.220.30.174/32
      - 209.36.73.33/32
      - 211.94.66.147/32
      - 213.169.251.35/32
      - 216.221.188.182/32
      - 216.234.179.13/32
      - 37.61.54.158/32
      - 4.36.66.178/32
      - 46.82.174.68/32
      - 59.24.3.173/32
      - 64.33.88.161/32
      - 64.33.99.47/32
      - 64.66.163.251/32
      - 65.104.202.252/32
      - 65.160.219.113/32
      - 66.45.252.237/32
      - 69.55.52.253/32
      - 72.14.205.104/32
      - 72.14.205.99/32
      - 78.16.49.15/32
      - 8.7.198.45/32
      - 93.46.8.89/32
      - 37.61.54.158/32
      - 190.93.247.4/32
      - 190.93.246.4/32
      - 190.93.245.4/32
      - 190.93.244.4/32
      - 65.49.2.178/32
      - 189.163.17.5/32
      - 23.89.5.60/32
      - 49.2.123.56/32
      - 54.76.135.1/32
      - 77.4.7.92/32
      - 118.5.49.6/32
      - 159.24.3.173/32
      - 188.5.4.96/32
      - 197.4.4.12/32
      - 220.250.64.24/32
    domain: #列表中的域名使用fallback返回解析结果
      - "+.google.com"
      - "+.facebook.com"
      - "+.youtube.com"
      - "+.githubusercontent.com"
      - "+.googlevideo.com"
      - "+.msftconnecttest.com"
      - "+.msftncsi.com"
      - msftconnecttest.com
      - msftncsi.com

proxy-groups:
  - name: Proxy
    type: select # 手动代理组
    proxies:
      - Automatic
      - 节点选择
      - 外服游戏
      - 香港
      - 日本
      - 新加坡
      - 台湾
      - 美国
      - 韩国
      - 英国
      - 法国
      - 俄罗斯
      - 德国
      - 澳大利亚
      - 菲律宾
      - 土耳其
      - 阿根廷
      - 乌克兰
      - 巴西
      - 印度
      # - 巴基斯坦
      # - 泰国
  - name: 节点选择
    type: select # 手动代理组
    use:
      - HK
      - JP
      - SG
      - TW
      - US
      - KR
      - UK
      - RU
      - AU
      - PH
      - TR
      - IN
      # - PK

  - name: 外服游戏
    type: select
    use:
      - IPLC
      - IEPL
  - name: "Automatic"
    type: url-test
    tolerance: 50 # 容差值：节点差值低于设定值时，不自动切换
    url: "http://cp.cloudflare.com/generate_204" # 用来测ping的地址
    interval: 300 # 测ping时间(秒)
    proxies:
      - 香港
      - 日本
      - 新加坡
      - 台湾
      - 美国
      - 韩国
      - 英国
      - 法国
      - 俄罗斯
      - 德国
      - 澳大利亚
      - 菲律宾
      - 土耳其
      - 阿根廷
      - 乌克兰
      - 巴西
      - 印度
      #- 巴基斯坦
      # - 泰国
  - name: OneDrive
    type: select
    proxies:
      - Proxy
      - DIRECT
  - name: Microsoft
    type: select
    proxies:
      - DIRECT
      - Proxy
  - name: Social
    type: select
    proxies:
      - Proxy
      - DIRECT
  - name: 哔哩哔哩
    type: select # 手动代理组
    proxies:
      - DIRECT
      - 香港
      - 台湾
  - name: B站港澳台
    type: select # 手动代理组
    proxies:
      - 香港
      - 台湾
      - DIRECT
  - name: Streaming
    type: select
    proxies:
      - Proxy
      - DIRECT
  - name: Apple
    type: select
    proxies:
      - DIRECT
      - Proxy

  - name: 学术
    type: select
    proxies:
      - 学术节点
      - Proxy
      - 节点选择
      - DIRECT
  - name: 学术节点
    type: select
    # strategy: consistent-hashing
    # tolerance: 50 # 容差值：节点差值低于设定值时，不自动切换
    # url: "http://cp.cloudflare.com/generate_204" # 用来测ping的地址
    # interval: 300 # 测ping时间(秒)
    use:
      - Scholar
  - name: OpenAI
    type: select # 手动代理组
    proxies:
      - 美国
      - 节点选择
      - Automatic
      - 外服游戏
      - 香港
      - 日本
      - 新加坡
      - 台湾
      - 韩国
      - 英国
      - 法国
      - 俄罗斯
      - 德国
      - 澳大利亚
      - 菲律宾
      - 土耳其
      - 阿根廷
      - 乌克兰
      - 巴西
      - 印度
      # - 巴基斯坦
      # - 泰国

  - name: 香港
    type: load-balance
    strategy: consistent-hashing
    tolerance: 50 # 容差值：节点差值低于设定值时，不自动切换
    url: "http://cp.cloudflare.com/generate_204" # 用来测ping的地址
    interval: 300 # 测ping时间(秒)
    use:
      - HK
  - name: 日本
    type: load-balance
    strategy: consistent-hashing
    use:
      - JP
    filter: "日本"
    tolerance: 50 # 容差值：节点差值低于设定值时，不自动切换
    url: "http://cp.cloudflare.com/generate_204" # 用来测ping的地址
    interval: 300 # 测ping时间(秒)
  - name: 新加坡
    type: load-balance
    strategy: consistent-hashing
    use:
      - SG
    tolerance: 50 # 容差值：节点差值低于设定值时，不自动切换
    url: "http://cp.cloudflare.com/generate_204" # 用来测ping的地址
    interval: 300 # 测ping时间(秒)
    filter: "新加坡"
  - name: 台湾
    type: load-balance
    strategy: consistent-hashing
    use:
      - TW
    tolerance: 50 # 容差值：节点差值低于设定值时，不自动切换
    url: "http://cp.cloudflare.com/generate_204" # 用来测ping的地址
    interval: 300 # 测ping时间(秒)
  #- name: 动画疯
  #  type: select
  #  use:
  #    - 动画疯
  #  tolerance: 50 # 容差值：节点差值低于设定值时，不自动切换
  #  url: "http://cp.cloudflare.com/generate_204" # 用来测ping的地址
  #  interval: 300 # 测ping时间(秒)
  - name: 美国
    type: load-balance
    strategy: consistent-hashing
    use:
      - US
    tolerance: 50 # 容差值：节点差值低于设定值时，不自动切换
    url: "http://cp.cloudflare.com/generate_204" # 用来测ping的地址
    interval: 300 # 测ping时间(秒)
  - name: 韩国
    type: load-balance
    strategy: consistent-hashing
    use:
      - KR
    tolerance: 50 # 容差值：节点差值低于设定值时，不自动切换
    url: "http://cp.cloudflare.com/generate_204" # 用来测ping的地址
    interval: 300 # 测ping时间(秒)
  - name: 英国
    type: load-balance
    strategy: consistent-hashing
    use:
      - UK
    tolerance: 50 # 容差值：节点差值低于设定值时，不自动切换
    url: "http://cp.cloudflare.com/generate_204" # 用来测ping的地址
    interval: 300 # 测ping时间(秒)
  - name: 俄罗斯
    type: load-balance
    strategy: consistent-hashing
    use:
      - RU
    tolerance: 50 # 容差值：节点差值低于设定值时，不自动切换
    url: "http://cp.cloudflare.com/generate_204" # 用来测ping的地址
    interval: 300 # 测ping时间(秒)
  - name: 法国
    type: load-balance
    strategy: consistent-hashing
    use:
      - FR
    tolerance: 50 # 容差值：节点差值低于设定值时，不自动切换
    url: "http://cp.cloudflare.com/generate_204" # 用来测ping的地址
    interval: 300 # 测ping时间(秒)
  - name: 德国
    type: load-balance
    strategy: consistent-hashing
    use:
      - DE
    tolerance: 50 # 容差值：节点差值低于设定值时，不自动切换
    url: "http://cp.cloudflare.com/generate_204" # 用来测ping的地址
    interval: 300 # 测ping时间(秒)
  - name: 澳大利亚
    type: load-balance
    strategy: consistent-hashing
    use:
      - AU
    tolerance: 50 # 容差值：节点差值低于设定值时，不自动切换
    url: "http://cp.cloudflare.com/generate_204" # 用来测ping的地址
    interval: 300 # 测ping时间(秒)
  - name: 菲律宾
    type: load-balance
    strategy: consistent-hashing
    use:
      - PH
    tolerance: 50 # 容差值：节点差值低于设定值时，不自动切换
    url: "http://cp.cloudflare.com/generate_204" # 用来测ping的地址
    interval: 300 # 测ping时间(秒)
  - name: 土耳其
    type: load-balance
    strategy: consistent-hashing
    use:
      - TR
    tolerance: 50 # 容差值：节点差值低于设定值时，不自动切换
    url: "http://cp.cloudflare.com/generate_204" # 用来测ping的地址
    interval: 300 # 测ping时间(秒)
  - name: 阿根廷
    type: load-balance
    strategy: consistent-hashing
    use:
      - AR
    tolerance: 50 # 容差值：节点差值低于设定值时，不自动切换
    url: "http://cp.cloudflare.com/generate_204" # 用来测ping的地址
    interval: 300 # 测ping时间(秒)
  - name: 乌克兰
    type: select
    use:
      - UA
    tolerance: 50 # 容差值：节点差值低于设定值时，不自动切换
    url: "http://cp.cloudflare.com/generate_204" # 用来测ping的地址
    interval: 300 # 测ping时间(秒)
  - name: 巴西
    type: load-balance
    strategy: consistent-hashing
    use:
      - BR
    tolerance: 50 # 容差值：节点差值低于设定值时，不自动切换
    url: "http://cp.cloudflare.com/generate_204" # 用来测ping的地址
    intBRval: 300 # 测ping时间(秒)
  - name: 印度
    type: load-balance
    strategy: consistent-hashing
    use:
      - IN
    tolerance: 50 # 容差值：节点差值低于设定值时，不自动切换
    url: "http://cp.cloudflare.com/generate_204" # 用来测ping的地址
    interval: 300 # 测ping时间(秒)
  #- name: 巴基斯坦
  #  type: load-balance
  #  strategy: consistent-hashing
  #  use:
  #    - PK
  #  tolerance: 50 # 容差值：节点差值低于设定值时，不自动切换
  #  url: "http://cp.cloudflare.com/generate_204" # 用来测ping的地址
  #  interval: 300 # 测ping时间(秒)
  #- name: 泰国
  #  type: load-balance
  #  strategy: consistent-hashing
  #  use:
  #    - TH
  #  tolerance: 50 # 容差值：节点差值低于设定值时，不自动切换
  #  url: "http://cp.cloudflare.com/generate_204" # 用来测ping的地址
  #  interval: 300 # 测ping时间(秒)
  - name: 漏网之鱼
    type: select
    proxies:
      - Proxy
      - DIRECT
proxy-providers:
  IPLC: # 订阅名订阅不可重名，如果修改需要连同上方proxy-groups中use使用的一同修改
    type: file
    path: ./proxy_provider/mixed.yaml # 订阅节点存放位置
    filter: "IPLC"
    health-check:
      enable: true
      interval: 300
      url: http://cp.cloudflare.com/generate_204
  IEPL: # 订阅名订阅不可重名，如果修改需要连同上方proxy-groups中use使用的一同修改
    type: file
    path: ./proxy_provider/mixed.yaml # 订阅节点存放位置
    filter: "深度访问"
    health-check:
      enable: true
      interval: 300
      url: http://cp.cloudflare.com/generate_204
  HK: # 订阅名字，每个订阅不可重名，如果修改需要连同上方proxy-groups中use使用的一同修改
    type: file
    path: ./proxy_provider/mixed.yaml # 订阅节点存放位置
    filter: "香港"
    health-check:
      enable: true
      interval: 300
      url: http://cp.cloudflare.com/generate_204
  TW: # 订阅名字，每个订阅不可重名，如果修改需要连同上方proxy-groups中use使用的一同修改
    type: file
    path: ./proxy_provider/mixed.yaml # 订阅节点存放位置
    filter: "台湾"
    health-check:
      enable: true
      interval: 300
      url: http://cp.cloudflare.com/generate_204
  #动画疯: # 订阅名字，每个订阅不可重名，如果修改需要连同上方proxy-groups中use使用的一同修改
  #  type: file
  #  path: ./proxy_provider/mixed.yaml # 订阅节点存放位置
  #  filter: "动画疯"
  #  health-check:
  #    enable: true
  #    interval: 300
  #    url: http://cp.cloudflare.com/generate_204
  JP: # 订阅名字，每个订阅不可重名，如果修改需要连同上方proxy-groups中use使用的一同修改
    type: file
    path: ./proxy_provider/mixed.yaml # 订阅节点存放位置
    filter: "日本"
    health-check:
      enable: true
      interval: 300
      url: http://cp.cloudflare.com/generate_204
  SG: # 订阅名字，每个订阅不可重名，如果修改需要连同上方proxy-groups中use使用的一同修改
    type: file
    path: ./proxy_provider/mixed.yaml # 订阅节点存放位置
    filter: "Singapore|新加坡"
    health-check:
      enable: true
      interval: 300
      url: http://cp.cloudflare.com/generate_204
  KR: # 订阅名字，每个订阅不可重名，如果修改需要连同上方proxy-groups中use使用的一同修改
    type: file
    path: ./proxy_provider/mixed.yaml # 订阅节点存放位置
    filter: "韩国"
    health-check:
      enable: true
      interval: 300
      url: http://cp.cloudflare.com/generate_204
  US: # 订阅名字，每个订阅不可重名，如果修改需要连同上方proxy-groups中use使用的一同修改
    type: file
    path: ./proxy_provider/mixed.yaml # 订阅节点存放位置
    filter: "US|美国"
    health-check:
      enable: true
      interval: 300
      url: http://cp.cloudflare.com/generate_204
  UK: # 订阅名字，每个订阅不可重名，如果修改需要连同上方proxy-groups中use使用的一同修改
    type: file
    path: ./proxy_provider/mixed.yaml # 订阅节点存放位置
    filter: "英国"
    health-check:
      enable: true
      interval: 300
      url: http://cp.cloudflare.com/generate_204
  RU: # 订阅名字，每个订阅不可重名，如果修改需要连同上方proxy-groups中use使用的一同修改
    type: file
    # interval: 259200 # 订阅自动更新时间
    path: ./proxy_provider/mixed.yaml # 订阅节点存放位置
    filter: "俄罗斯"
    health-check:
      enable: true
      interval: 300
      url: http://cp.cloudflare.com/generate_204
  FR: # 订阅名字，每个订阅不可重名，如果修改需要连同上方proxy-groups中use使用的一同修改
    type: http
    # interval: 259200 # 订阅自动更新时间
    path: ./proxy_provider/mixed.yaml # 订阅节点存放位置
    filter: "法国"
    health-check:
      enable: true
      interval: 300
      url: http://cp.cloudflare.com/generate_204
  DE: # 订阅名字，每个订阅不可重名，如果修改需要连同上方proxy-groups中use使用的一同修改
    type: http
    #
    # interval: 259200 # 订阅自动更新时间
    path: ./proxy_provider/mixed.yaml # 订阅节点存放位置
    filter: "德国"
    health-check:
      enable: true
      interval: 300
      url: http://cp.cloudflare.com/generate_204
  AU: # 订阅名字，每个订阅不可重名，如果修改需要连同上方proxy-groups中use使用的一同修改
    type: file
    path: ./proxy_provider/mixed.yaml # 订阅节点存放位置 # 订阅节点存放位置
    filter: "澳大利亚|澳洲|AU"
    health-check:
      enable: true
      interval: 300
      url: http://cp.cloudflare.com/generate_204
  PH: # 订阅名字，每个订阅不可重名，如果修改需要连同上方proxy-groups中use使用的一同修改
    type: http
    interval: 259200 # 订阅自动更新时间
    path: ./proxy_provider/mixed.yaml # 订阅节点存放位置 # 订阅节点存放位置
    filter: "菲律宾"
    health-check:
      enable: true
      interval: 300
      url: http://cp.clouKflare.com/generate_204
  #TH: # 订阅名字，每个订阅不可重名，如果修改需要连同上方proxy-groups中use使用的一同修改
  #  type: file
  #  path: ./proxy_provider/mixed.yaml # 订阅节点存放位置 # 订阅节点存放位置
  #  filter: "泰国"
  #  health-check:
  #    enable: true
  #    interval: 300
  #    url: http://cp.clouKflare.com/generate_204
  TR: # 订阅名字，每个订阅不可重名，如果修改需要连同上方proxy-groups中use使用的一同修改
    type: file
    path: ./proxy_provider/mixed.yaml # 订阅节点存放位置
    filter: "土耳其"
    health-check:
      enable: true
      interval: 300
      url: http://cp.cloudflare.com/generate_204
  AR: # 订阅名字，每个订阅不可重名，如果修改需要连同上方proxy-groups中use使用的一同修改
    type: http
    #
    # interval: 259200 # 订阅自动更新时间
    path: ./proxy_provider/mixed.yaml # 订阅节点存放位置
    filter: "阿根廷"
    health-check:
      enable: true
      interval: 300
      url: http://cp.cloudflare.com/generate_204
  UA: # 订阅名字，每个订阅不可重名，如果修改需要连同上方proxy-groups中use使用的一同修改
    type: http
    #
    # interval: 259200 # 订阅自动更新时间
    path: ./proxy_provider/mixed.yaml # 订阅节点存放位置
    filter: "乌克兰"
    health-check:
      enable: true
      interval: 300
      url: http://cp.cloudflare.com/generate_204
  BR: # 订阅名字，每个订阅不可重名，如果修改需要连同上方proxy-groups中use使用的一同修改
    type: http
    #
    # interval: 259200 # 订阅自动更新时间
    path: ./proxy_provider/mixed.yaml # 订阅节点存放位置
    filter: "巴西"
    health-check:
      enable: true
      interval: 300
      url: http://cp.cloudflare.com/generate_204
  IN:
    # 订阅名字，每个订阅不可重名，如果修改需要连同上方proxy-groups中use使用的一同修改
    type: file
    path: ./proxy_provider/mixed.yaml # 订阅节点存放位置 # 订阅节点存放位置
    filter: "印度"
    health-check:
      enable: true
      interval: 300
      url: http://cp.cloudflare.com/generate_204
  #PK:
  #  # 订阅名字，每个订阅不可重名，如果修改需要连同上方proxy-groups中use使用的一同修改
  #  type: file
  #  path: ./proxy_provider/mixed.yaml # 订阅节点存放位置 # 订阅节点存放位置
  #  filter: "巴基斯坦"
  #  health-check:
  #    enable: true
  #    interval: 300
  #    url: http://cp.cloudflare.com/generate_204
  Scholar: # 订阅名字，每个订阅不可重名，如果修改需要连同上方proxy-groups中use使用的一同修改
    type: file
    path: ./proxy_provider/mixed.yaml # 订阅节点存放位置 # 订阅节点存放位置
    filter: "深度访问"
    health-check:
      enable: true
      interval: 300
      url: http://cp.cloudflare.com/generate_204
rule-providers:
  ZJU:
    type: file
    behavior: classical
    path: ./rule_provider/ZJU.yaml
    url: https://ghproxy.com/https://raw.githubusercontent.com/ZJU-Rule/ZJU-Rule/master/Clash/ZJU.list
    interval: 259200
rules:
  - GEOIP,LAN,DIRECT,no-resolve
  - DOMAIN-SUFFIX,tpddns.cn,DIRECT
  # - DOMAIN-SUFFIX,plex.direct,DIRECT
  # DNS 代理
  - DOMAIN-KEYWORD,announce,DIRECT
  - DOMAIN-KEYWORD,tracker,DIRECT
  - GEOSITE,openai,OpenAI
  - DOMAIN-SUFFIX,jsdelivr.net,DIRECT
  - DOMAIN-SUFFIX,fastgit.org,DIRECT
  # Github
  - DOMAIN-SUFFIX,v2.shared.global.fastly.net,Proxy
  - DOMAIN-SUFFIX,fastly.net,Proxy
  - DOMAIN-SUFFIX,nixos.org,Proxy
  - DOMAIN-SUFFIX,nixos.dev,Proxy
  - GEOSITE,category-dev-cn,DIRECT
  #- GEOSITE,category-dev-!cn,Proxy
  # 局域网直连

  # 广告过滤
  - GEOSITE,category-ads-all,REJECT
  # PROCESS rule
  - PROCESS-NAME,aria2c,DIRECT
  - PROCESS-NAME,BitComet,DIRECT
  - PROCESS-NAME,fdm,DIRECT
  - PROCESS-NAME,NetTransport,DIRECT
  - PROCESS-NAME,qbittorrent,DIRECT
  - PROCESS-NAME,Thunder,DIRECT
  - PROCESS-NAME,transmission-daemon,DIRECT
  - PROCESS-NAME,transmission-qt,DIRECT
  - PROCESS-NAME,uTorrent,DIRECT
  - PROCESS-NAME,WebTorrent,DIRECT
  - PROCESS-NAME,aria2c,DIRECT
  - PROCESS-NAME,fdm,DIRECT
  - PROCESS-NAME,Folx,DIRECT
  - PROCESS-NAME,NetTransport,DIRECT
  - PROCESS-NAME,qbittorrent,DIRECT
  - PROCESS-NAME,Thunder,DIRECT
  - PROCESS-NAME,Transmission,DIRECT
  - PROCESS-NAME,transmission,DIRECT
  - PROCESS-NAME,uTorrent,DIRECT
  - PROCESS-NAME,WebTorrent,DIRECT
  - PROCESS-NAME,WebTorrent Helper,DIRECT
  - PROCESS-NAME,v2ray,DIRECT
  - PROCESS-NAME,ss-local,DIRECT
  - PROCESS-NAME,ssr-local,DIRECT
  - PROCESS-NAME,ss-redir,DIRECT
  - PROCESS-NAME,ssr-redir,DIRECT
  - PROCESS-NAME,ss-server,DIRECT
  - PROCESS-NAME,trojan-go,DIRECT
  - PROCESS-NAME,xray,DIRECT
  - PROCESS-NAME,hysteria,DIRECT
  - PROCESS-NAME,UUBooster,DIRECT
  - PROCESS-NAME,uugamebooster,DIRECT

  # ZJU
  - RULE-SET,ZJU,DIRECT
  - GEOSITE,category-education-cn,DIRECT

  # 学术
  - GEOSITE,category-scholar-!cn,学术
  - GEOSITE,category-scholar-cn,DIRECT
  - DOMAIN-SUFFIX,academictorrents.com,学术
  # 游戏
  - DOMAIN-SUFFIX,konami.net,外服游戏

  - GEOSITE,category-games@cn,DIRECT
  - GEOSITE,category-games,外服游戏

  # rule-providers 分流规则
  # 微软
  - GEOSITE,onedrive,OneDrive
  # 苹果
  - GEOSITE,apple@cn,DIRECT

  # 巴哈姆特
  - GEOSITE,bahamut,台湾
  # B站港澳台
  # 内容：BilibiliHMT 哔哩哔哩 港澳台番剧
  # 数量：21条
  - DOMAIN,p-bstarstatic.akamaized.net,B站港澳台
  - DOMAIN,p.bstarstatic.com,B站港澳台
  - DOMAIN,upos-bstar-mirrorakam.akamaized.net,B站港澳台
  - DOMAIN,upos-bstar1-mirrorakam.akamaized.net,B站港澳台
  - DOMAIN,upos-hz-mirrorakam.akamaized.net,B站港澳台
  - DOMAIN-SUFFIX,acgvideo.com,B站港澳台
  - DOMAIN-SUFFIX,bilibili.com,B站港澳台
  - DOMAIN-SUFFIX,bilibili.tv,B站港澳台
  - IP-CIDR,45.43.32.234/32,B站港澳台,no-resolve
  - IP-CIDR,103.151.150.0/23,B站港澳台,no-resolve
  - IP-CIDR,119.29.29.29/32,B站港澳台,no-resolve
  - IP-CIDR,128.1.62.200/32,B站港澳台,no-resolve
  - IP-CIDR,128.1.62.201/32,B站港澳台,no-resolve
  - IP-CIDR,150.116.92.250/32,B站港澳台,no-resolve
  - IP-CIDR,164.52.33.178/32,B站港澳台,no-resolve
  - IP-CIDR,164.52.33.182/32,B站港澳台,no-resolve
  - IP-CIDR,164.52.76.18/32,B站港澳台,no-resolve
  - IP-CIDR,203.107.1.33/32,B站港澳台,no-resolve
  - IP-CIDR,203.107.1.34/32,B站港澳台,no-resolve
  - IP-CIDR,203.107.1.65/32,B站港澳台,no-resolve
  - IP-CIDR,203.107.1.66/32,B站港澳台,no-resolve
  # - GEOSITE,biliintl,哔哩东南亚
  - GEOSITE,bilibili,哔哩哔哩
  - GEOSITE,category-social-media-cn,DIRECT
  # 国际媒体
  - GEOSITE,spotify,Streaming
  - GEOSITE,youtube,Streaming
  - GEOSITE,netflix,Streaming

  # 国际社交 Social
  - GEOSITE,telegram,Social
  - GEOSITE,discord,Social
  - GEOSITE,CN,DIRECT

  #- GEOSITE,hk,香港
  #- GEOSITE,TW,台湾
  #- GEOSITE,US,美国
  #- GEOSITE,JP,日本
  #- GEOSITE,SG,新加坡
  #- GEOSITE,KR,韩国
  # GEOIP规则
  - GEOIP,CN,DIRECT
  - GEOIP,TELEGRAM,Social
  - GEOIP,HK,香港
  - GEOIP,US,美国
  - GEOIP,TW,台湾
  - GEOIP,JP,日本
  - GEOIP,KR,韩国
  - GEOIP,SG,新加坡
  - GEOIP,FR,法国
  #- GEOIP,UK,英国
  - GEOIP,DE,德国
  - GEOIP,AU,澳大利亚
  - GEOIP,PH,菲律宾
  - GEOIP,TR,土耳其
  - GEOIP,AR,阿根廷
  - GEOIP,UA,乌克兰
  - GEOIP,BR,巴西
  - GEOIP,IN,印度

  # 兜底规则
  - MATCH,漏网之鱼
